<?php
/**
 * @file
 * billable tests.
 */

class BillableTestCase extends DrupalWebTestCase  {

  public static function getInfo() {
    return array(
      'name' => 'Billable unit tests',
      'description' => 'Unit test to ensure that the billable module functions properly.',
      'group' => 'Invoice',
    );
  }
  
  function setUp() {
    parent::setUp('billable');
  }
  
  /**
  * Test for caclulating values when a billable is saved
  */
  function testCalculateBillableValues() {
   
    $entity = billable_create();
    $entity->quantity = 1;
    $entity->single_price = 10;
    $entity->vat_rate = 19;
    $entity->save();
    //check if the vat etc is calculated
    $message = 'Vat total of 10 is 1.9';
    $this->assertEqual($entity->total_vat, 1.9, $message, $group= 'billable vat');

  }
}